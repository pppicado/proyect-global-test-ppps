<div class="window-container card shadow" cdkDrag [cdkDragFreeDragPosition]="dragPositionPixels"
  (cdkDragStarted)="onDragStart($event)" (cdkDragEnded)="onDragEnd($event)" (mousedown)="onWindowClick()"
  [style.width.vw]="width" [style.height.vh]="height" [style.zIndex]="zIndex" [style.--window-width.vw]="width"
  [style.--window-height.vh]="height">

  <div class="card-body overflow-auto p-0 position-relative">
    <ng-template [cdkPortalOutlet]="contentPortal"></ng-template>
    <ng-content></ng-content>
  </div>

  <!-- Resize Handles -->
  <div class="resize-handle resize-handle-e" (mousedown)="initResize($event, 'e')"></div>
  <div class="resize-handle resize-handle-s" (mousedown)="initResize($event, 's')"></div>
  <div class="resize-handle resize-handle-w" (mousedown)="initResize($event, 'w')"></div>
  <div class="resize-handle resize-handle-n" (mousedown)="initResize($event, 'n')"></div>
  <div class="resize-handle resize-handle-se" (mousedown)="initResize($event, 'se')"></div>
  <div class="resize-handle resize-handle-nw" (mousedown)="initResize($event, 'nw')"></div>
  <div class="resize-handle resize-handle-ne" (mousedown)="initResize($event, 'ne')"></div>
  <div class="resize-handle resize-handle-sw" (mousedown)="initResize($event, 'sw')"></div>
</div>